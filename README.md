# Anime-ongoing-shikimori
–ö–∞–ª–µ–Ω–¥–∞—Ä—å –≤—ã—Ö–æ–¥–∞ Anime (API Shikimori)

–ü–ª–∞–≥–∏–Ω –¥–æ–±–∞–≤–∏—Ç —Ä–∞–∑–¥–µ–ª –Ω–∞ —Å–∞–π—Ç–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –≤—ã—Ö–æ–¥–∞ –∞–Ω–∏–º–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π –≤ —Ç–æ—á–Ω–æ—Å—Ç–∏ –∫–∞–∫ —É [Shikimori](https://shikimori.one/api/doc), API –∫–æ—Ç–æ—Ä–æ–≥–æ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

<p align="center">
<img src="https://user-images.githubusercontent.com/44625352/178162946-5e767cf3-313e-4ec1-bcb6-617ffd3aa7f6.jpg" alt="Anime-ongoing-shikimori">
</p>

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1. –°–∫–∞—á–∞—Ç—å –∞—Ä—Ö–∏–≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `anime-ongoing.xml` –≤ —Å–∏—Å—Ç–µ–º—É
3. –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∏–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å—Ç–∏–ª–∏ –∏–∑ `ongoing.css`
4. –°–∫–∞—á–∞—Ç—å [magnific-popup](https://dimsemenov.com/plugins/magnific-popup/) –∏ —Ç–∞–∫ –∂–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ —Å–∞–π—Ç

## –†–∞–∑–¥–µ–ª –Ω–∞ —Å–∞–π—Ç–µ
–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–æ–¥—É–ª—è —Ä–∞–∑–¥–µ–ª –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `/?do=ongoing`, –ª–∏–±–æ –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –ß–ü–£ –ø—Ä–∞–≤–∏–ª–æ.

–í —Ñ–∞–π–ª–µ `.htaccess` –î–æ–±–∞–≤–∏—Ç—å –Ω–∏–∂–µ —Å—Ç—Ä–æ–∫–∏ `RewriteEngine On`
```
RewriteRule ^ongoing(/?)$ index.php?do=ongoing [L]
```

## –ò–∑–º–µ–Ω–µ–Ω–∏–µ —è–∑—ã–∫–∞
–í –ø–ª–∞–≥–∏–Ω–µ –≤ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ñ–∞–π–ª–∞ `engine/modules/ongoing.php` –Ω–∞—Ö–æ–¥–∏–º `data-name="{$animes['anime']['name']}"` –∏ –∑–∞–º–µ–Ω—è–µ–º '**name**' –Ω–∞ '**russian**'.

## –ö–∞—Å–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—á–µ–π —Ä–∞–∑–º–µ—Ç–∫–∏ —Ä–∞–∑–¥–µ–ª–∞
–í –ø–ª–∞–≥–∏–Ω–µ –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è `shiki_cals()` –≤ –Ω–µ–π –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö `$buffer` –ø—Ä–æ–ø–∏—Å–∞–Ω—ã HTML –æ–±—ä–µ–∫—Ç—ã. –í—Å—è —Ä–∞–∑–º–µ—Ç–∫–∞ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –Ω–∏—Ö.

> –£ –±–ª–æ–∫–æ–≤ –µ—Å—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ä–∞–Ω–¥–æ–º–Ω—ã—Ö `class` –∏–º–µ–Ω —Ü–≤–µ—Ç–æ–≤, –¥–ª—è –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ü–≤–µ—Ç–∞ –¥–æ–±–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –≤ CSS —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –∏–º–µ–Ω–∞–º–∏.
> –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ 11 –Ω–∞–∑–≤–∞–Ω–∏–π.
```php
	$arr_color = array(
		'red',
		'pink',
		'blue',
		'green',
		'orange',
 		'brown',
		'powderblue',
		'skyblue',
		'purple',
		'magenta',
		'brown'
	);
  ```

## JavaScript —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–∫–Ω–∞ —Å –ø–æ–∏—Å–∫–æ–º –ø–æ—Ö–æ–∂–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –Ω–∞ —Å–∞–π—Ç–µ.
–í—ã–∑–æ–≤ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –ø–ª–∞–≥–∏–Ω–∞ [magnific-popup](https://dimsemenov.com/plugins/magnific-popup/)

> –ï—Å–ª–∏ –¥–∞–Ω–Ω–∞—è —à—Ç—É–∫–∞ –Ω–µ –Ω—É–∂–Ω–∞, —Ç–æ –≤ xml –ø–ª–∞–≥–∏–Ω–µ –Ω–∞–π—Ç–∏ `onclick="ongoing_find(this); return false;"` –∏ —É–¥–∞–ª–∏—Ç—å. –ê —Ç–∞–∫ –∂–µ `svg` –æ–±—ä–µ–∫—Ç –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–π –Ω–∏–∂–µ.

```js
function ongoing_find(obj) {
    
    var name = $(obj).data('name');
    
    $.post(dle_root + "engine/ajax/controller.php?mod=find_relates", {title: name, mode: 1, accuracy_find: 1, user_hash: dle_login_hash}, function(data) {
        
        $.magnificPopup.open({
            items: {
                src: '<div style="width:700px;background:#FFF;position:relative;margin:0 auto;padding:25px 10px 10px;" class="clrfix">'+data+'</div>'
            },
            type: 'inline',
            mainClass: 'mfp-fade',
            removalDelay: 0,
            overflowY: 'hide',
            closeOnBgClick: true,
            callbacks: {
                open: function() {},
                afterClose: function() {},         
                beforeClose: function() {}
            }        
        });
            
    });

    return false;

};
```

## –û–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–æ–º–µ–Ω–∞ API
–ê–¥—Ä–µ—Å **API** —Å–µ—Ä–≤–∏—Å–∞ **shikimori** –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è. –ï—Å–ª–∏ –ø–ª–∞–≥–∏–Ω –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç–æ —Å—Ç–æ–∏—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä–Ω–æ –ª–∏ —É–∫–∞–∑–∞–Ω –∞–¥—Ä–µ—Å.

–í –ø–ª–∞–≥–∏–Ω–µ —Å—Ç–æ–∏—Ç –Ω–∞–π—Ç–∏ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–æ—á–∫—É –≤ –∫–æ—Ç–æ—Ä–æ–π —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞–¥—Ä–µ—Å.
```php
file_get_contents('https://shikimori.one/api/calendar');
```


### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –±–ª–∞–≥–æ—Ä–∞–¥–Ω–æ—Å—Ç—å
–ú–æ–∂–µ—Ç–µ –Ω–µ –ø–∞—Ä–∏—Ç—å—Å—è, –Ω–∏–∫—Ç–æ –Ω–µ –ø–∞—Ä–∏—Ç—å—Å—è üòì
